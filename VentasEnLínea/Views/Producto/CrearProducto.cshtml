@{
    ViewData["Title"] = "CrearProducto";
}

<h1>Crear Producto</h1>
@if (!string.IsNullOrEmpty(ViewBag.Mensaje))
{
    <div class="@ViewBag.etiqueta" role="alert">@ViewBag.Mensaje</div>
}

@if (!string.IsNullOrEmpty(Model.Producto.Imagen))
{
    <img src="~/@Url.Content(Model.Producto.Imagen)"/>
}

@if (!string.IsNullOrEmpty(ViewBag.Producto))
{
    @ViewBag.Producto
}
<form method="post" asp-action="CrearProducto" enctype="multipart/form-data">
    <div class="form-row">
        <label>Nombre</label>
        <input type="text" class="form-control" name="Producto.Nombre" />
    </div>
    <div class="form-row">
        <label for="inputState">Categoria</label>
        <select id="Categoria" class="form-control" name="Producto.Categoria">
            <!-- Iterar sobre la lista de categorías -->
            <option selected>Elegir...</option>
            @foreach (var categoria in Model.Categorias)
            {
                <option value="@categoria.Id">@categoria.Nombre</option>
            }
        </select>
    </div>
    <div class="form-row">
        <label for="inputState">Descripción</label>

        <input type="text" name="Producto.Descripcion" class="form-control">
    </div>
    <!-- Campo para subir imagen -->
    <div class="form-row">
        <label>Imagen</label>
        <input type="file" class="form-control" name="imagen" accept=".png, .jpg, .jpeg" />
    </div>
    <div class="mb-3">
        <label>Precio de entrega</label>
        <input class="form-control" name="Producto.Precio" required />
        <div id="errorPrecio" class="error-message"></div>
    </div>

    <button type="submit" class="btn btn-dark">Crear</button>
</form>
